{% load static %}
<!doctype html>
<html>
<head>
    <head>
        <meta charset="utf-8">
        <title>LES</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">
    
        <!-- Favicon -->
        <link href="{% static 'img/favicon.ico' %}" rel="icon">
    
        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">
        
        <!-- Icon Font Stylesheet -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
    
        <!-- Libraries Stylesheet -->
        <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />
    
        <!-- Customized Bootstrap Stylesheet -->
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    
        <!-- Template Stylesheet -->
        <link href="{% static 'css/style.css' %}" rel="stylesheet">

        <style>
          p, h2 {
            width: 90%;
            margin: auto;
        }
        h2 {
            text-align: center;
        }
        p {
            color: black;
        }
        .input, .input1 {
            outline: none;
            border: 3px double black;
            width: 50%;
            color: #757575;
            border-radius: 5px;
        }
        ul {
            color: red;
            margin-left: 3.75%;
        }
        hr{
            width: 50%;
            margin-left: 25%;
        }
        </style>
    </head>
<body>


{% block content %}


{% block loggedInOutContent %}

<div style="padding: 3rem 2vw 1rem;">

    <div class="steps is-success">

        <div class="step-item is-completed is-success">

            <div class="step-marker">

                <span class="icon">

                    <i class="mdi mdi-account"></i>

                </span>

            </div>

            <div class="step-details">

                

            </div>

        </div>

        <div class="step-item is-completed is-success">

            <div class="step-marker">

                <span class="icon">

                    <i class="mdi mdi-circle-edit-outline mdi-24px"></i>

                </span>

            </div>



            <div class="step-details">

            

            </div>

        </div>



        <div class="step-item is-success">

            <div class="step-marker">

                <span class="icon">

                    <i class="mdi mdi-check"></i>

                </span>

            </div>

            <div class="step-details">

            

            </div>

        </div>

    </div>

        <form method="post">
            {% csrf_token %}


            <div style="padding: 1rem 2vw 0px;">
                <h2 class="title has-text-grey is-uppercase text-primary" style="text-align: center;">
                    {{perfil}}
                </h2>
                <br>
                <div class="columns">
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Nome Próprio:</label>
                            <div class="control is-clearfix">
                                <input name="first_name" class="input" id="id_first_name"
                                    value="{{form.first_name.value|default_if_none:"" }}" style="" type="text"
                                    maxlength="255">
                                <!---->
                                <!---->
                                <!---->
                            </div>
                            <!---->
                        </div>
                    </div>
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Apelido:</label>
                            <div class="control is-clearfix">


                                <input name="last_name" class="input" id="id_last_name" style=""
                                    value="{{form.last_name.value|default_if_none:"" }}" type="text" maxlength="255">
                            </div>
                            <!---->
                        </div>
                    </div>

                    <hr>
                </div>


                <div class="columns">
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Username:</label>
                            <div class="control is-clearfix">
                                <input name="username" value="{{form.username.value|default_if_none:""}}" class="input"
                                    id="id_username" style="" type="text" maxlength="255">



                                <!---->
                                <!---->
                                <!---->
                            </div>
                            <!---->
                        </div>
                    </div>
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Email:</label>
                            <div class="control is-clearfix">
                                <input class="input" name="email" id="id_email"
                                    value="{{form.email.value|default_if_none:"" }}" type="text" style=""
                                    maxlength="255">
                                <!---->
                                <!---->
                                <!---->
                            </div>
                            <!---->
                        </div>
                    </div>
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Contacto:</label>
                            <div class="control is-clearfix">

                                <input name="contacto" class="input" id="id_contacto"
                                    value="{{form.contacto.value |default_if_none:"" }}" style="" type="text"
                                    maxlength="255">
                            </div>
                            <!---->
                        </div>
                    </div>
                    <hr>
                </div>

                <div class="columns">
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Palavra-passe:</label>
                            <div class="control is-clearfix">
                                <input name="password1" id="id_password1" class="input" style="" type="password"
                                    maxlength="255">


                                <!---->
                                <!---->
                                <!---->
                            </div>
                            <!---->
                        </div>
                    </div>
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">Confirmação da Palavra-passe:</label>
                            <div class="control is-clearfix">
                                <input name="password2" id="id_password2" class="input" style="" type="password"
                                    maxlength="255">
                                <!---->
                                <!---->
                                <!---->
                            </div>
                            <!---->

                            <!---->
                        </div>
                    </div>
                    <hr>
                    <div class="column">
                        <div class="field" style="margin-left:35%">
                            <label class="label">NIF:</label>
                            <div class="control is-clearfix">


                                <input name="last_name" class="input" id="id_last_name" style=""
                                    value="{{form.nif.value|default_if_none:"" }}" type="text" maxlength="255">
                            </div>
                            <!---->
                        </div>
                    </div>
                </div>
               
                <div style="margin-top:2%;text-align:center;position:center;">
                    <button type="button" value="Voltar" class="button is-outlined btn btn-lg btn-primary" style="margin-right:5%"
                        onclick="voltar()">Voltar</button>
                    <button type="submit" class="button is-success is-outlined btn btn-lg btn-primary">
                        <span>Confirmar</span>
                    </button>
                </div>
        </form>
    </div>
</div>
<br>


{% if msg %}
<div style="margin-left:30%;margin-right:30%; margin-top:%">
    <div style="margin-top:2%;text-align: center;position:center;">
        <article class="message is-danger">
            <div class="message-body">
                <p style="text-align: center;">
                    {% if form.non_field_errors %}
                    {% for error in form.non_field_errors %}
                <p style="color: #ff0000; text-align:center">{{error}}</p>
                {% endfor %}
                {% else %}

                {% for field in form %}
                {% for error in field.errors %}
                <p style="color: #ff0000;">{{ error }}</p>
                {% endfor %}
                {% endfor %}
                {%endif%}


                </p>
            </div>
        </article>
    </div>
</div>
<br>
{% endif %}

</div>
{% endblock %}





{% block scripts %}
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>

    function voltar() {
        location.href = "/utilizadores/escolherperfil"
    }

    {% if registo == 2 %}
    $("#id_faculdade").change(function () {
        var url = $("#ProfessorUniversitarioRegisterForm").attr("data-departamentos-url");
        var faculdadeid = $(this).val();

        $.ajax({
            url: url,
            data: {
                'faculdade': faculdadeid
            },
            success: function (data) {
                $("#id_departamento").html(data);
            }
        });

    });
    {% elif registo == 3 %}
    $("#id_faculdade").change(function () {
        var url = $("#CoordenadorRegisterForm").attr("data-departamentos-url");
        var faculdadeid = $(this).val();

        $.ajax({
            url: url,
            data: {
                'faculdade': faculdadeid
            },
            success: function (data) {
                $("#id_departamento").html(data);
            }
        });

    });
    {% elif registo == 4 %}
    $("#id_faculdade").change(function () {

        var url = $("#ColaboradorRegisterForm").attr("data-cursos-url");
        var faculdadeid = $(this).val();

        $.ajax({
            url: url,
            data: {
                'faculdade': faculdadeid
            },
            success: function (data) {
                $("#id_curso").html(data);

            }
        });

    });
    $("#id_faculdade").change(function () {

        var url = $("#ColaboradorRegisterForm").attr("data-departamentos-url");
        var faculdadeid = $(this).val();

        $.ajax({
            url: url,
            data: {
                'faculdade': faculdadeid
            },
            success: function (data) {
                $("#id_departamento").html(data);

            }
        });

    });
    {% endif %}
</script>
{% endblock scripts %}

{% endblock %}